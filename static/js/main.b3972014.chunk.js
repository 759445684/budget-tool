(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,a,t){},192:function(e,a,t){},193:function(e,a,t){},194:function(e,a,t){},195:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(60),l=t.n(r),s=(t(69),t(4)),i=t(7),o=t(33);t(72);o.initializeApp({apiKey:"AIzaSyDwdx5GorfnngkDZ_qJYjhAsl935gSWlFY",authDomain:"budget-app-ada37.firebaseapp.com",databaseURL:"https://budget-app-ada37.firebaseio.com",projectId:"budget-app-ada37",storageBucket:"budget-app-ada37.appspot.com",messagingSenderId:"621799600219",appId:"1:621799600219:web:e81a380c634e03ab"});var m=o.firestore(),u={items:[],categories:[],date:new Date},d=c.a.createContext(u);function f(e,a){var t=e.items.slice();switch(a.type){case"ADD":return console.log(a.payload),m.collection("items").add(a.payload).then(function(e){console.log(e)}),Object(i.a)({},e,{items:t});case"DEL":return m.collection("items").doc(a.payload).delete().then(function(e){console.log("".concat(a.payload," was deleted"))}),Object(i.a)({},e,{items:t.filter(function(e){return e.id!==a.payload})});case"CHANGE_DATE":return Object(i.a)({},e,{date:a.payload});case"LOAD_ITEMS":return Object(i.a)({},e,{items:a.payload});case"LOAD_CATES":return Object(i.a)({},e,{categories:a.payload});default:return e}}function p(e){var a=Object(n.useReducer)(f,u),t=Object(s.a)(a,2),r=t[0],l=t[1],o={state:r,dispatch:l};return Object(n.useEffect)(function(){var e=m.collection("items").onSnapshot(function(e){var a=e.docs.map(function(e){return Object(i.a)({id:e.id},e.data())});l({type:"LOAD_ITEMS",payload:a})});return function(){return e()}},[]),Object(n.useEffect)(function(){var e=m.collection("categories").onSnapshot(function(e){var a=e.docs.map(function(e){return Object(i.a)({id:e.id},e.data())});l({type:"LOAD_CATES",payload:a})});return function(){e()}},[]),c.a.createElement(d.Provider,{value:o},e.children)}function E(e){return e<10?"0"+e:""+e}function b(e){return e<0?"-$"+-e:"+$"+e}function g(e,a){var t=a.split("-"),n=t[0],c=t[1];return""+e.getFullYear()===n&&E(e.getMonth()+1)===c}var v,h;t(76),t(38);!function(e){e.INCOME="income",e.EXPENSE="expense"}(v||(v={})),function(e){e.red="rgb(255, 99, 132,0.9)",e.orange="rgb(255, 159, 64,0.9)",e.yellow="rgb(255, 205, 86,0.9)",e.green="rgb(75, 192, 192,0.9)",e.blue="rgb(54, 162, 235,0.9)",e.purple="rgb(153, 102, 255,0.9)",e.grey="rgb(201, 203, 207,0.9)",e.lightblue="rgb(0, 209, 146,0.9)"}(h||(h={}));var N=function(){var e=Object(n.useContext)(d).state,a=e.items,t=e.categories,r=0,l=0;return a.forEach(function(e){var a=function(e,a){var t=null;return a.forEach(function(a){a.id===e&&(t=a)}),t}(e.cid,t);a&&a.type===v.INCOME?r+=e.amount:a&&a.type===v.EXPENSE&&(l+=e.amount)}),c.a.createElement("div",{className:"total-board pa3 flex-column justify-around f3 tc bg-white br3 shadow-1"},c.a.createElement("div",{className:"pv2"}," ",c.a.createElement("span",{className:"".concat(r>=l?"green":"red"," f0")}," ",b(r-l))," "),c.a.createElement("div",null," ",c.a.createElement("span",{className:"f4 fw2"},"Banlance")),c.a.createElement("div",{className:"pv2 income green flex justify-between"},c.a.createElement("span",{className:" black-80 block"},"Income")," ",c.a.createElement("span",{className:" tr"},b(r))," "),c.a.createElement("div",{className:"pv2 expense red flex justify-between"},c.a.createElement("span",{className:" black-80 block"},"Expense"),"  ",c.a.createElement("span",{className:" tr"},b(-l))))};var w=function(e){var a=e.item,t=Object(n.useContext)(d).dispatch;return c.a.createElement("div",{className:"bb b--light-silver flex tl justify-between items-center pa1  black f6"},c.a.createElement("span",{className:"flex-auto"},a.title),c.a.createElement("span",{className:"fw4 pl2 w-20"},"$",a.amount),c.a.createElement("span",{className:"tc w-20 tc"},a.date.slice(5)),c.a.createElement("div",{onClick:function(){t({type:"ADD",payload:"add"})}},c.a.createElement("i",{className:"fas fa-edit pa2 dim pointer"})),c.a.createElement("div",{onClick:function(){t({type:"DEL",payload:a.id})}},c.a.createElement("i",{className:"pa2 fas fa-trash-alt pointer dim"})))};var y=function(){var e=Object(n.useContext)(d).state,a=e.date,t=e.items.filter(function(e){return g(a,e.date)});return c.a.createElement("div",null,t.map(function(e){return c.a.createElement(w,{key:e.id,item:e})}))},x=t(61),j=t.n(x),O=(t(96),function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],r=a[1],l=Object(n.useContext)(d),i=l.state,o=l.dispatch,m=i.date;return c.a.createElement("div",{className:"relative"},c.a.createElement("div",{className:"calendar-selector flex justify-center items-center pa3"},c.a.createElement("i",{onClick:function(){return r(!t)},className:"pa1 ma1 pa2-ns ma2-ns calendar-icon blue bb f4 f3-ns pointer dim fas fa-calendar-alt"}),c.a.createElement("strong",{className:"pa1 ma1 pa2-ns ma2-ns f4 f3-ns  black-70"},"".concat(m.getFullYear()," - ").concat(E(m.getMonth()+1)))),t&&c.a.createElement(j.a,{className:["absolute br2 calendar"],value:m,onClickDay:function(e){o({type:"CHANGE_DATE",payload:e}),r(!t)}}))}),C=(t(97),function(e){var a=e.category,t=e.cid,n=e.setCid;return c.a.createElement("div",{onClick:function(){n(a.id)},className:" raisedbox shadow-1 black-80 ".concat(t===a.id?" bg-light-blue":"not-select-bg black","  flex f6 br4 fw4 ma2 pa1 pointer items-center")},c.a.createElement("div",{style:{background:a.color},className:"color_marker ma1"}),c.a.createElement("span",{className:"ph1 f6"},a.name))}),k=function(e){var a=e.categories,t=e.cid,n=e.setCid;return c.a.createElement("div",{className:"cates-list flex flex-wrap tc"},a.map(function(e){return c.a.createElement(C,{cid:t,key:e.id,category:e,setCid:n})}))},A=function(e){var a=e.categories,t=e.bType,n=e.setBType,r=e.cid,l=e.setCid;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex justify-between tc fw7 f6  "},c.a.createElement("div",{onClick:function(){n(v.INCOME)},className:" type-button flex-auto ".concat(t===v.INCOME?"bg-green shadow-1 white":"green","  pv3  pointer")}," INCOME"),c.a.createElement("div",{onClick:function(){n(v.EXPENSE)},className:"  type-button flex-auto ".concat(t===v.EXPENSE?"bg-red shadow-1 white":"red","  pv3 pointer")},"EXPENSE")),c.a.createElement(k,{categories:a,cid:r,setCid:l}),c.a.createElement("hr",{className:"w-90"}))},D=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],m=i[1],u=Object(n.useState)(0),f=Object(s.a)(u,2),p=f[0],b=f[1],g=Object(n.useContext)(d),h=g.state,N=g.dispatch,w=h.categories,y=Object(n.useState)(v.INCOME),x=Object(s.a)(y,2),j=x[0],C=x[1],k=w.filter(function(e){return e.type===j});return c.a.createElement("form",{className:"bg-white br3 pa2 shadow-1",onSubmit:function(e){e.preventDefault();var a,n={cid:t,title:o,amount:p,date:(a=h.date,a.getFullYear()+"-"+E(a.getMonth()+1)+"-"+E(a.getDate()))};N({type:"ADD",payload:n})}},c.a.createElement(A,{categories:k,bType:j,setBType:C,cid:t,setCid:r}),c.a.createElement(O,null),c.a.createElement("div",{className:"flex flex-column pa1 "},c.a.createElement("div",{className:"flex justify-between items-center pa1"},c.a.createElement("label",{htmlFor:"title",className:"db f4 mh1 w-20 fw5"},"Note"),c.a.createElement("input",{className:"db flex-auto pa1 f4",placeholder:"write some notes...",value:o,onChange:function(e){m(e.target.value)},type:"text",name:"title",id:"title"})),c.a.createElement("div",{className:"flex justify-between items-center pa1"},c.a.createElement("label",{htmlFor:"amount",className:"db f4 mh1 w-20 fw5"},"$"),c.a.createElement("input",{className:"db flex-auto pa1 f4",value:p,onChange:function(e){b(parseInt(e.target.value))},type:"number",name:"amount",id:"amount",min:"0"})),c.a.createElement("button",{className:"pv2 mv2 w-20 center bg-blue pointer",type:"submit"},c.a.createElement("span",{className:"fw1 f3 white"},"+"))))},S=(t(98),function(){return c.a.createElement("header",{className:"w-100 shadow-1 bg-blue"},c.a.createElement("div",{className:"f3 pa2 flex items-center"},c.a.createElement("div",{className:"logo"},c.a.createElement("i",{className:"fas white mh3 f3 pa2 fa-hand-holding-usd"})),c.a.createElement("div",{className:"account-group flex flex-row-reverse flex-auto items-center"},c.a.createElement("i",{className:"ph2 dim white pointer f3 far fa-user-circle"}),c.a.createElement("i",{className:"f3 ph2 white pointer dim fas fa-cog"}))))}),I=t(62),M=(t(191),function(e){var a=e.lableArr,t={datasets:[{data:e.dataArr,backgroundColor:e.colorArr}],labels:a};return c.a.createElement("div",{className:"chart-panel bg-white pa2 mv3 br3 shadow-1"},c.a.createElement("main",{className:"pa3 flex-column"},c.a.createElement("div",{className:""},c.a.createElement(I.a,{data:t,options:{layout:{padding:{left:0,right:0,top:0,bottom:0}}}}))))}),T=(t(192),function(){var e=Object(n.useContext)(d).state,a=e.items,t=e.categories,r=e.date,l=a.filter(function(e){return g(r,e.date)}),s=function(e){var a={};return 0!==e.length?(e.forEach(function(e){return a[e.id]=e}),a):null}(t),i=[],o=[],m=[],u=new Map;return s&&(l.forEach(function(e){var a=u.get(s[e.cid]);a||(a=0),u.set(s[e.cid],a+e.amount)}),u.forEach(function(e,a){m.push(a.name),i.push(a.color),o.push(e)})),c.a.createElement("section",{className:"visualization"},c.a.createElement(M,{dataArr:o,lableArr:m,colorArr:i}))}),F=(t(193),function(e){var a=e.category,t=Object(n.useState)(0),r=Object(s.a)(t,2),l=r[0],i=r[1],o={color:a.color};return c.a.createElement("div",null,c.a.createElement("div",{className:"row flex items-center slidecontainer"},c.a.createElement("label",{className:"w-30 f7 fw6 f5-ns",style:o,htmlFor:"digit"},a.name),c.a.createElement("input",{className:"mh1 slider flex-auto",onChange:function(e){return i(parseInt(e.target.value))},type:"range",id:"digit",min:"10",max:a.budget,value:l}),c.a.createElement("span",{className:"fw7 pl2 f6 f5-ns"},"$"),c.a.createElement("input",{className:"pa1 w-30 w-20-ns ma2 tc",type:"number",name:"",value:l,onChange:function(e){return i(parseInt(e.target.value))}})))}),_=(t(194),function(){var e=Object(n.useContext)(d),a=e.state,t=(e.dispatch,a.categories);return c.a.createElement("div",{className:"shadow-1 pa3 mv2 ph4-ns br3 bg-dark"},t.map(function(e){return c.a.createElement(F,{key:e.id,category:e})}))});var L=function(){return c.a.createElement(p,null,c.a.createElement(S,null),c.a.createElement("main",{className:"main-container pa2 pa4-l"},c.a.createElement("section",{className:"fl-l w-60-l pa2-l "},c.a.createElement(N,null),c.a.createElement("div",{className:"bg-white pa3 mv2 br3 shadow-1"},c.a.createElement(O,null),c.a.createElement(y,null)),c.a.createElement(_,null)),c.a.createElement("section",{className:"fl-l w-40-l pa2-l"},c.a.createElement(D,null),c.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,a,t){e.exports=t(195)},69:function(e,a,t){},76:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[64,1,2]]]);
//# sourceMappingURL=main.b3972014.chunk.js.map